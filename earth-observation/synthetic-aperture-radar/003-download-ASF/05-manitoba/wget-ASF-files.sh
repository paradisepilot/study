#!/bin/bash

# URL: https://search.asf.alaska.edu
# Area of interest: POLYGON((-102 49,-95 49,-95 54,-102 54,-102 49))
# Dates: 20211201 -- 20211231
# Resulting product IDs:
# S1B_IW_GRDH_1SDV_20211202T001601_20211202T001626_029839_038FDF_259E-GRD_HD
# S1B_IW_GRDH_1SDV_20211214T001601_20211214T001626_030014_039562_9CCF-GRD_HD
# S1B_IW_GRDH_1SDV_20211214T001536_20211214T001601_030014_039562_A92B-GRD_HD
# S1B_IW_GRDH_1SDV_20211214T001511_20211214T001536_030014_039562_0B0A-GRD_HD
# S1B_IW_GRDH_1SDV_20211212T003237_20211212T003302_029985_03946B_FCA1-GRD_HD
# S1B_IW_GRDH_1SDV_20211212T003212_20211212T003237_029985_03946B_CE50-GRD_HD
# S1B_IW_GRDH_1SDV_20211212T003147_20211212T003212_029985_03946B_B2AB-GRD_HD
# S1B_IW_GRDH_1SDV_20211212T003302_20211212T003327_029985_03946B_76B1-GRD_HD

ASF_FILES=( \
    "https://datapool.asf.alaska.edu/GRD_HD/SB/S1B_IW_GRDH_1SDV_20211202T001601_20211202T001626_029839_038FDF_259E.zip" \
    "https://datapool.asf.alaska.edu/GRD_HD/SB/S1B_IW_GRDH_1SDV_20211214T001601_20211214T001626_030014_039562_9CCF.zip" \
    "https://datapool.asf.alaska.edu/GRD_HD/SB/S1B_IW_GRDH_1SDV_20211214T001536_20211214T001601_030014_039562_A92B.zip" \
    "https://datapool.asf.alaska.edu/GRD_HD/SB/S1B_IW_GRDH_1SDV_20211214T001511_20211214T001536_030014_039562_0B0A.zip" \
    "https://datapool.asf.alaska.edu/GRD_HD/SB/S1B_IW_GRDH_1SDV_20211212T003237_20211212T003302_029985_03946B_FCA1.zip" \
    "https://datapool.asf.alaska.edu/GRD_HD/SB/S1B_IW_GRDH_1SDV_20211212T003212_20211212T003237_029985_03946B_CE50.zip" \
    "https://datapool.asf.alaska.edu/GRD_HD/SB/S1B_IW_GRDH_1SDV_20211212T003147_20211212T003212_029985_03946B_B2AB.zip" \
    "https://datapool.asf.alaska.edu/GRD_HD/SB/S1B_IW_GRDH_1SDV_20211212T003302_20211212T003327_029985_03946B_76B1.zip" \
    )

source ~/.eo-credentials/credentials-nasa-earthdata.sh
for tempfile in "${ASF_FILES[@]}"
do
    echo
    echo downloading: ${tempfile}
    # for instructions on ASF Search API, see: https://docs.asf.alaska.edu/api/tools/
    wget -c --http-user=${NASAEarthdataUsername} --http-password=${NASAEarthdataPassword} ${tempfile}
done
echo
